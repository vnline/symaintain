<html>
<head>
    <title>ajax test</title>
    <!-- Stylesheets -->
    <link href="{{STATIC_URL}}style/bootstrap.css" rel="stylesheet">
    <!-- Font awesome icon -->
    <link rel="stylesheet" href="{{STATIC_URL}}style/font-awesome.css">
    <!-- jQuery UI -->
    <link rel="stylesheet" href="{{STATIC_URL}}style/jquery-ui.css">
    <!-- Calendar -->
    <link rel="stylesheet" href="{{STATIC_URL}}style/fullcalendar.css">
    <!-- prettyPhoto -->
    <link rel="stylesheet" href="{{STATIC_URL}}style/prettyPhoto.css">
    <!-- Star rating -->
    <link rel="stylesheet" href="{{STATIC_URL}}style/rateit.css">
    <!-- Date picker -->
    <link rel="stylesheet" href="{{STATIC_URL}}style/bootstrap-datetimepicker.min.css">
    <link rel="stylesheet" href="{{STATIC_URL}}style/datetimepicker.css">
    <!-- CLEditor -->
    <link rel="stylesheet" href="{{STATIC_URL}}style/jquery.cleditor.css">
    <!-- Uniform -->
    <link rel="stylesheet" href="{{STATIC_URL}}style/uniform.default.css">
    <!-- Bootstrap toggle -->
    <link rel="stylesheet" href="{{STATIC_URL}}style/bootstrap-toggle-buttons.css">
    <!-- less -->
    <link rel="stylesheet/less" href="{{STATIC_URL}}less/datetimepicker.less">
    <!-- uploadify css -->
    <link rel="stylesheet" href="{{ STATIC_URL }}style/uploadify.css">
    <!-- Main stylesheet -->
    <link href="{{STATIC_URL}}style/style.css" rel="stylesheet">
    <!-- Widgets stylesheet -->
    <link href="{{STATIC_URL}}style/widgets.css" rel="stylesheet">
    <!-- Responsive style (from Bootstrap) -->
    <link href="{{STATIC_URL}}style/bootstrap-responsive.css" rel="stylesheet">
    <script src="{{STATIC_URL}}js/jquery.js"></script> <!-- jQuery -->
    <script src="{{STATIC_URL}}js/bootstrap.js"></script> <!-- Bootstrap -->
    <script src="{{STATIC_URL}}js/jquery-ui-1.9.2.custom.min.js"></script> <!-- jQuery UI -->
    <script src="{{STATIC_URL}}js/fullcalendar.min.js"></script> <!-- Full Google Calendar - Calendar -->
    <script src="{{STATIC_URL}}js/jquery.rateit.min.js"></script> <!-- RateIt - Star rating -->
    <script src="{{STATIC_URL}}js/jquery.prettyPhoto.js"></script> <!-- prettyPhoto -->
    <!-- jQuery Flot -->
    <script src="{{STATIC_URL}}js/excanvas.min.js"></script>
    <script src="{{STATIC_URL}}js/jquery.flot.js"></script>
    <script src="{{STATIC_URL}}js/jquery.flot.resize.js"></script>
    <script src="{{STATIC_URL}}js/jquery.flot.pie.js"></script>
    <script src="{{STATIC_URL}}js/jquery.flot.stack.js"></script>
    <!-- jQuery Notification - Noty -->
    <script src="{{STATIC_URL}}js/jquery.noty.js"></script> <!-- jQuery Notify -->
    <script src="{{STATIC_URL}}js/themes/default.js"></script> <!-- jQuery Notify -->
    <script src="{{STATIC_URL}}js/layouts/bottom.js"></script> <!-- jQuery Notify -->
    <!-- <script src="{{STATIC_URL}}js/layouts/topRight.js"></script> <!-- jQuery Notify -->
    <script src="{{STATIC_URL}}js/layouts/top.js"></script> <!-- jQuery Notify -->
    <!-- jQuery Notification ends -->
    <script src="{{STATIC_URL}}js/sparklines.js"></script> <!-- Sparklines -->
    <script src="{{STATIC_URL}}js/jquery.cleditor.min.js"></script> <!-- CLEditor -->
    <script src="{{STATIC_URL}}js/bootstrap-datetimepicker.min.js"></script> <!-- Date picker -->
    <script src="{{STATIC_URL}}js/jquery.uniform.min.js"></script> <!-- jQuery Uniform -->
    <script src="{{STATIC_URL}}js/jquery.toggle.buttons.js"></script> <!-- Bootstrap Toggle -->
    <script src="{{STATIC_URL}}js/filter.js"></script> <!-- Filter for support page -->
    <script src="{{STATIC_URL}}js/custom.js"></script> <!-- Custom codes -->
    <script src="{{STATIC_URL}}js/charts.js"></script> <!-- Custom codes -->
    <script src="{{STATIC_URL}}js/jquery.uploadify.js"></script>
    <script src="{{STATIC_URL}}js/jquery.uploadify.min.js"></script>
</head>
<body>
<div class="container">
    <h4>Demo Page</h4>
    <div id="thanks"><p><a data-toggle="modal" href="#form-content" class="btn btn-primary">Contact us</a></p></div>
    <!-- model content -->
    <div id="form-content" class="modal hide fade in" style="display: none; ">
        <div class="modal-header">
            <a class="close" data-dismiss="modal">×</a>
            <h3>Contact us</h3>
        </div>
        <div>
            <form class="contact">
                <fieldset>
                    <div class="modal-body">
                        <ul class="nav nav-list">
                            <li class="nav-header">Name</li>
                            <li><input class="form-control" value=" krizna" type="text" name="name"></li>
                            <li class="nav-header">Email</li>
                            <li><input class="form-control" value=" user@krizna.com" type="text" name="Email"></li>
                            <li class="nav-header">Message</li>
                            <li><textarea class="form-control" name="sug" rows="3"> Thanks for the article and demo
                            </textarea></li>
                        </ul>
                    </div>
                </fieldset>
            </form>
            <div id="msg"></div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-success" id="submit">submit</button>
            <a href="#" class="btn" data-dismiss="modal">Close</a>
        </div>
    </div>
    <div id="log11"><p><a data-toggle="modal" href="#log" class="btn btn-primary">查看日志</a></p></div>
    <!-- model content -->
    <div id="log" class="modal hide fade in" style="display: none; ">
        <div class="modal-header">
            <a class="close" data-dismiss="modal">×</a>
            <h3>日志</h3>
        </div>
        <div>
            <form class="contact">
                <fieldset>
                    <div class="modal-body">
                        <table class="table table-striped table-bordered table-hover">
                            <thead>
                            <tr>
                                <th>区服</th>
                                <th>文件名</th>
                                <th>结果</th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for key, value , result in list %}
                                <tr>
                                    <td>{{ key }}</td>
                                    <td>{{ value }}</td>
                                    <td>{{ result }}</td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </fieldset>
            </form>
        </div>
        <div class="modal-footer">
            <button class="btn btn-success" id="submit">submit</button>
            <a href="#" class="btn" data-dismiss="modal">Close</a>
        </div>
    </div>
</div>
<script>
    $(function() {
//twitter bootstrap script
        $("button#submit").click(function(){
            $.ajax({
                type: "POST",
                url: "{% url 'ajax_test' %}",
                data: $('form.contact').serialize(),
                success: function(msg){
                    $("form.contact").empty()
                    $("#msg")
                            .empty()
                            .html(msg);
                },
                error: function(){
                    alert("failure");
                }
            });
        });
    });
</script>
</body>
</html>